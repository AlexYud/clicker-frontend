<ion-content class="ion-margin" color="medium">

  <ion-card>
    <ion-segment value="pricetags" (ionChange)="segmentChanged($event)">
      <ion-segment-button class="ion-no-margin ion-no-padding" value="pricetags">
        <ion-icon name="pricetags"></ion-icon>
      </ion-segment-button>
      <ion-segment-button [disabled]="true" class="ion-no-margin ion-no-padding" value="cash">
        <ion-icon name="cash"></ion-icon>
      </ion-segment-button>
      <ion-segment-button [disabled]="true" class="ion-no-margin ion-no-padding" value="sparkles">
        <ion-icon name="sparkles"></ion-icon>
      </ion-segment-button>
    </ion-segment>
  </ion-card>

  <ion-card class="ion-margin-top">
    <ion-card-header class="ion-text-center" color="primary">
      <ion-card-title><b>STORE</b></ion-card-title>
    </ion-card-header>
    <ion-row class="ion-no-padding ion-no-margin ion-align-items-center">
      <ion-col size="7" class="ion-padding">
        <ion-label><b>{{ isInteger(viewersPerSecond) }}</b> VPS (idle)</ion-label>
      </ion-col>
      <ion-col size="5" >
        <div style="display: flex; justify-content: center; align-content: center;">
          <ion-button size="small" class="btn-multiplier multiplier-button-left" [ngClass]="{'activated' : multiplier === 1 ? true : false}" (click)="changeMultiplierValue(1)">
           x1
          </ion-button>
          <ion-button size="small" expand="full" class="btn-multiplier multiplier-button-middle" [ngClass]="{'activated' : multiplier === 5 ? true : false}" (click)="changeMultiplierValue(5)">
           x5
          </ion-button>
          <ion-button size="small" class="btn-multiplier multiplier-button-right" [ngClass]="{'activated' : multiplier === 10 ? true : false}" (click)="changeMultiplierValue(10)">
           x10
          </ion-button>
        </div>
      </ion-col>
    </ion-row>
    <ion-list class="ion-no-padding">
      <ion-item *ngFor=" let item of items" lines="none">
        <ion-thumbnail slot="start">
          <ion-img src="{{ item.img }}"></ion-img>
        </ion-thumbnail>
        <ion-label>
          <h2><b>{{ item.name }}</b></h2>
          <p>+{{ isInteger(item.totalViews ? item.totalViews : item.views) }} viewers/s</p>
        </ion-label>
        <ion-button color="success" *ngIf="viewers > item.unlock" size="small" [disabled]="(item.totalPrice ? item.totalPrice : item.price) > money"
          (click)="buyItem(item)">
          <ion-label style="width: 90px; height: 50px">
            <h6><b>Upgrade</b></h6>
            <h1><b>$ {{ item.totalPrice ? item.totalPrice : item.price }}</b></h1>
          </ion-label>
        </ion-button>
        <ion-button color="danger" size="small" *ngIf="item.unlock >= viewers">
          <ion-label *ngIf="item.unlock >= viewers" style="width: 90px; height: 50px; display: flex"
            class="ion-justify-content-center ion-align-items-center">
            <ion-icon name="lock-closed" size="large"></ion-icon>
          </ion-label>
        </ion-button>
      </ion-item>
    </ion-list>
  </ion-card>
</ion-content>